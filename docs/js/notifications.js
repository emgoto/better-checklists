/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/notifications.ts");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./src/checklist-util.ts":
/*!*******************************!*\
  !*** ./src/checklist-util.ts ***!
  \*******************************/
/*! exports provided: reorderArray, stringToNode */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"reorderArray\", function() { return reorderArray; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"stringToNode\", function() { return stringToNode; });\n// https://medium.com/kevin-salters-blog/reordering-a-javascript-array-based-on-a-drag-and-drop-interface-e3ca39ca25c\nconst reorderArray = (event, originalArray) => {\n    const movedItem = originalArray.filter((item, index) => index === event.oldIndex);\n    const remainingItems = originalArray.filter((item, index) => index !== event.oldIndex);\n    const reorderedItems = [\n        ...remainingItems.slice(0, event.newIndex),\n        movedItem[0],\n        ...remainingItems.slice(event.newIndex)\n    ];\n    return reorderedItems;\n};\nconst stringToNode = (domString) => {\n    const wrapper = document.createElement('div');\n    wrapper.innerHTML = domString;\n    return wrapper.firstChild;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY2hlY2tsaXN0LXV0aWwudHMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2NoZWNrbGlzdC11dGlsLnRzPzkxMTkiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gaHR0cHM6Ly9tZWRpdW0uY29tL2tldmluLXNhbHRlcnMtYmxvZy9yZW9yZGVyaW5nLWEtamF2YXNjcmlwdC1hcnJheS1iYXNlZC1vbi1hLWRyYWctYW5kLWRyb3AtaW50ZXJmYWNlLWUzY2EzOWNhMjVjXG5leHBvcnQgY29uc3QgcmVvcmRlckFycmF5ID0gKGV2ZW50LCBvcmlnaW5hbEFycmF5KSA9PiB7XG4gIGNvbnN0IG1vdmVkSXRlbSA9IG9yaWdpbmFsQXJyYXkuZmlsdGVyKChpdGVtLCBpbmRleCkgPT4gaW5kZXggPT09IGV2ZW50Lm9sZEluZGV4KTtcbiAgY29uc3QgcmVtYWluaW5nSXRlbXMgPSBvcmlnaW5hbEFycmF5LmZpbHRlcigoaXRlbSwgaW5kZXgpID0+IGluZGV4ICE9PSBldmVudC5vbGRJbmRleCk7XG5cbiAgY29uc3QgcmVvcmRlcmVkSXRlbXMgPSBbXG4gICAgLi4ucmVtYWluaW5nSXRlbXMuc2xpY2UoMCwgZXZlbnQubmV3SW5kZXgpLFxuICAgIG1vdmVkSXRlbVswXSxcbiAgICAuLi5yZW1haW5pbmdJdGVtcy5zbGljZShldmVudC5uZXdJbmRleClcbiAgXTtcblxuICByZXR1cm4gcmVvcmRlcmVkSXRlbXM7XG59O1xuXG5leHBvcnQgY29uc3Qgc3RyaW5nVG9Ob2RlID0gKGRvbVN0cmluZzogc3RyaW5nKTogTm9kZSA9PiB7XG4gIGNvbnN0IHdyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgd3JhcHBlci5pbm5lckhUTUwgPSBkb21TdHJpbmc7XG4gIHJldHVybiB3cmFwcGVyLmZpcnN0Q2hpbGQ7XG59O1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/checklist-util.ts\n");

/***/ }),

/***/ "./src/notifications.ts":
/*!******************************!*\
  !*** ./src/notifications.ts ***!
  \******************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _trello_util__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./trello-util */ \"./src/trello-util.ts\");\n/* harmony import */ var _checklist_util__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./checklist-util */ \"./src/checklist-util.ts\");\n\n\nconst t = TrelloPowerUp.iframe();\nconst member = t.member('username');\nlet users = [];\nlet hasGivenPermissions = false;\nconst url = 'https://checklist-notifications.herokuapp.com';\nconst renderUser = (user) => {\n    const domString = `<div class=\"user-container\">\n    <div class=\"username\">${user.username}</div>\n    <div class=\"delete-btn\">\n        <div class=\"delete-icon\" title=\"Remove User\"></div>\n        <div class=\"spinner\"></div>\n    </div>\n  </div>`;\n    return Object(_checklist_util__WEBPACK_IMPORTED_MODULE_1__[\"stringToNode\"])(domString);\n};\nconst showEnableOrAuthenticate = () => {\n    Object(_trello_util__WEBPACK_IMPORTED_MODULE_0__[\"getToken\"])(t).then((maybeToken) => {\n        if (!maybeToken) {\n            document.getElementById('authenticate-btn').style.display = 'block';\n            document.getElementById('enable-btn').style.display = 'none';\n        }\n        else {\n            document.getElementById('enable-btn').style.display = 'block';\n        }\n    });\n};\n// Remove from Trello storage and from page\nconst removeUserLocally = (index, currentUsername) => {\n    console.log('Removing user locally');\n    const items = document.querySelectorAll('.user-container');\n    const itemToDelete = items[index];\n    const container = document.getElementById('commenting-enabled');\n    container.removeChild(itemToDelete);\n    users.splice(index, 1);\n    Object(_trello_util__WEBPACK_IMPORTED_MODULE_0__[\"setUsers\"])(t, users);\n    // If user deleted themself, need to add back in the permissions button\n    member.then(({ username }) => {\n        if (currentUsername === username) {\n            hasGivenPermissions = false;\n            showEnableOrAuthenticate();\n        }\n    });\n    // If there are no users, add back in instructions\n    if (users.length > 0) {\n        document.getElementById('enable-instructions').style.display = 'block';\n    }\n};\nfunction onDeleteClick() {\n    const currentUsername = this.parentElement.parentElement.querySelector('.username').innerHTML;\n    const spinner = this.nextElementSibling;\n    spinner.style.display = 'block';\n    this.style.display = 'none';\n    const user = users.find(u => u.username === currentUsername);\n    if (!user) {\n        console.log(\"Misconfigured user data.\");\n        return;\n    }\n    const index = users.indexOf(user);\n    const data = new URLSearchParams({ id: user.id });\n    axios({ method: 'delete', url: `${url}/user`, data }).then(function () {\n        removeUserLocally(index, currentUsername);\n    }).catch(function (error) {\n        if (error && error.response) {\n            const { status } = error.response;\n            if (status === 400) { // Could not find user to delete, so delete it from UI anyway\n                removeUserLocally(index, currentUsername);\n            }\n            else { // Failed to delete\n                spinner.style.display = 'none';\n                this.style.display = 'block';\n            }\n        }\n    })\n        .finally(function () {\n        // always executed\n    });\n}\nfunction initialise() {\n    const container = document.getElementById('commenting-enabled');\n    Object(_trello_util__WEBPACK_IMPORTED_MODULE_0__[\"getUsers\"])(t).then((u) => {\n        if (u) {\n            users = u;\n            if (users.length > 0) {\n                document.getElementById('enable-instructions').style.display = 'none';\n            }\n            member.then(({ username }) => {\n                u.forEach(user => {\n                    container.appendChild(renderUser(user));\n                    // If user is already present in the list, don't need to show them the enable btn\n                    if (user.username == username) {\n                        hasGivenPermissions = true;\n                    }\n                });\n                // If we're going to show the enable button, double check they've authenticated\n                if (!hasGivenPermissions) {\n                    showEnableOrAuthenticate();\n                }\n                // Add listeners to the delete icons\n                const items = container.querySelectorAll('.delete-icon');\n                Array.from(items).forEach((item) => item.onclick = onDeleteClick);\n            });\n        }\n    });\n}\n;\ninitialise();\ndocument.getElementById('enable-btn').addEventListener('click', function () {\n    document.getElementById('enable-spinner').style.display = 'block';\n    document.getElementById('enable-text').style.display = 'none';\n    Object(_trello_util__WEBPACK_IMPORTED_MODULE_0__[\"getToken\"])(t).then((token) => {\n        const { board: boardId, member: id } = t.getContext();\n        let currentUsername;\n        member.then(({ username }) => {\n            currentUsername = username;\n            const data = new URLSearchParams({\n                token,\n                id,\n                boardId,\n                username,\n            });\n            axios({ method: 'post', url: `${url}/user`, data }).then(function (response) {\n                hasGivenPermissions = true;\n                const item = { id, username: currentUsername };\n                console.log('Successfully enabled', response);\n                document.getElementById('enable-btn').style.display = 'none';\n                document.getElementById('enable-spinner').style.display = 'none';\n                document.getElementById('enable-text').style.display = 'block';\n                users.push(item);\n                Object(_trello_util__WEBPACK_IMPORTED_MODULE_0__[\"setUsers\"])(t, users);\n                const container = document.getElementById('commenting-enabled');\n                const newUser = renderUser(item);\n                container.appendChild(newUser);\n                const items = document.querySelectorAll('.delete-icon');\n                Array.from(items)[items.length - 1].onclick = onDeleteClick;\n            }).catch(function (error) {\n                console.log('Failed to enable', error);\n                document.getElementById('enable-spinner').style.display = 'none';\n                document.getElementById('enable-text').style.display = 'block';\n            })\n                .finally(function () {\n                // Done\n            });\n        });\n    });\n});\ndocument.getElementById('authenticate-btn').addEventListener('click', function () {\n    t.popup({\n        type: 'confirm',\n        title: 'Authorize Checklist+',\n        mouseEvent: event,\n        message: 'To enable assigning board members to tasks, we require you to authorize with Checklist+.',\n        confirmText: 'Authorize',\n        onConfirm: () => {\n            Trello.authorize({\n                type: \"popup\",\n                name: \"Checklist+\",\n                expiration: \"never\",\n                success: () => {\n                    Object(_trello_util__WEBPACK_IMPORTED_MODULE_0__[\"setToken\"])(t, Trello.token());\n                    document.getElementById('authenticate-btn').style.display = 'none';\n                    document.getElementById('enable-btn').style.display = 'block';\n                },\n                error: () => { },\n            });\n        },\n    });\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbm90aWZpY2F0aW9ucy50cy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvbm90aWZpY2F0aW9ucy50cz82M2NlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFVzZXIsIGdldFRva2VuLCBzZXRUb2tlbiwgZ2V0VXNlcnMsIHNldFVzZXJzIH0gZnJvbSAnLi90cmVsbG8tdXRpbCc7XG5pbXBvcnQgeyBzdHJpbmdUb05vZGUgfSBmcm9tICcuL2NoZWNrbGlzdC11dGlsJztcbmRlY2xhcmUgY29uc3QgVHJlbGxvUG93ZXJVcDogYW55O1xuZGVjbGFyZSBjb25zdCBheGlvczogYW55O1xuZGVjbGFyZSBjb25zdCBUcmVsbG86IGFueTtcbmNvbnN0IHQgPSBUcmVsbG9Qb3dlclVwLmlmcmFtZSgpO1xuY29uc3QgbWVtYmVyID0gdC5tZW1iZXIoJ3VzZXJuYW1lJyk7XG5sZXQgdXNlcnMgPSBbXTtcbmxldCBoYXNHaXZlblBlcm1pc3Npb25zID0gZmFsc2U7XG5cbmNvbnN0IHVybCA9ICdodHRwczovL2NoZWNrbGlzdC1ub3RpZmljYXRpb25zLmhlcm9rdWFwcC5jb20nO1xuXG5jb25zdCByZW5kZXJVc2VyID0gKHVzZXI6IFVzZXIpOiBOb2RlID0+IHtcbiAgY29uc3QgZG9tU3RyaW5nID0gYDxkaXYgY2xhc3M9XCJ1c2VyLWNvbnRhaW5lclwiPlxuICAgIDxkaXYgY2xhc3M9XCJ1c2VybmFtZVwiPiR7dXNlci51c2VybmFtZX08L2Rpdj5cbiAgICA8ZGl2IGNsYXNzPVwiZGVsZXRlLWJ0blwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiZGVsZXRlLWljb25cIiB0aXRsZT1cIlJlbW92ZSBVc2VyXCI+PC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJzcGlubmVyXCI+PC9kaXY+XG4gICAgPC9kaXY+XG4gIDwvZGl2PmA7XG5cbiAgcmV0dXJuIHN0cmluZ1RvTm9kZShkb21TdHJpbmcpO1xufTtcblxuY29uc3Qgc2hvd0VuYWJsZU9yQXV0aGVudGljYXRlID0gKCk6IHZvaWQgPT4ge1xuICBnZXRUb2tlbih0KS50aGVuKChtYXliZVRva2VuKSA9PiB7XG4gICAgaWYgKCFtYXliZVRva2VuKSB7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYXV0aGVudGljYXRlLWJ0bicpLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VuYWJsZS1idG4nKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgIH0gZWxzZSB7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZW5hYmxlLWJ0bicpLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgIH1cbiAgfSk7XG59O1xuXG4vLyBSZW1vdmUgZnJvbSBUcmVsbG8gc3RvcmFnZSBhbmQgZnJvbSBwYWdlXG5jb25zdCByZW1vdmVVc2VyTG9jYWxseSA9IChpbmRleDogbnVtYmVyLCBjdXJyZW50VXNlcm5hbWU6IHN0cmluZyk6IHZvaWQgPT4ge1xuICBjb25zb2xlLmxvZygnUmVtb3ZpbmcgdXNlciBsb2NhbGx5Jyk7XG4gIGNvbnN0IGl0ZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnVzZXItY29udGFpbmVyJykgYXMgTm9kZUxpc3RPZjxIVE1MRWxlbWVudD47XG4gIGNvbnN0IGl0ZW1Ub0RlbGV0ZSA9IGl0ZW1zW2luZGV4XTtcbiAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbW1lbnRpbmctZW5hYmxlZCcpO1xuICBjb250YWluZXIucmVtb3ZlQ2hpbGQoaXRlbVRvRGVsZXRlKTtcbiAgdXNlcnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgc2V0VXNlcnModCwgdXNlcnMpO1xuXG4gIC8vIElmIHVzZXIgZGVsZXRlZCB0aGVtc2VsZiwgbmVlZCB0byBhZGQgYmFjayBpbiB0aGUgcGVybWlzc2lvbnMgYnV0dG9uXG4gIG1lbWJlci50aGVuKCh7IHVzZXJuYW1lIH0pID0+IHtcbiAgICBpZiAoY3VycmVudFVzZXJuYW1lID09PSB1c2VybmFtZSkge1xuICAgICAgaGFzR2l2ZW5QZXJtaXNzaW9ucyA9IGZhbHNlO1xuICAgICAgc2hvd0VuYWJsZU9yQXV0aGVudGljYXRlKCk7XG4gICAgfVxuICB9KTtcblxuICAvLyBJZiB0aGVyZSBhcmUgbm8gdXNlcnMsIGFkZCBiYWNrIGluIGluc3RydWN0aW9uc1xuICBpZiAodXNlcnMubGVuZ3RoID4gMCkge1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlbmFibGUtaW5zdHJ1Y3Rpb25zJykuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gIH1cbn07XG5cbmZ1bmN0aW9uIG9uRGVsZXRlQ2xpY2soKTogdm9pZCB7XG4gIGNvbnN0IGN1cnJlbnRVc2VybmFtZSA9IHRoaXMucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy51c2VybmFtZScpLmlubmVySFRNTDtcbiAgY29uc3Qgc3Bpbm5lciA9IHRoaXMubmV4dEVsZW1lbnRTaWJsaW5nO1xuICBzcGlubmVyLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICB0aGlzLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG5cbiAgY29uc3QgdXNlciA9IHVzZXJzLmZpbmQodSA9PiB1LnVzZXJuYW1lID09PSBjdXJyZW50VXNlcm5hbWUpO1xuXG4gIGlmICghdXNlcikge1xuICAgIGNvbnNvbGUubG9nKFwiTWlzY29uZmlndXJlZCB1c2VyIGRhdGEuXCIpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGNvbnN0IGluZGV4ID0gdXNlcnMuaW5kZXhPZih1c2VyKTtcbiAgY29uc3QgZGF0YSA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoeyBpZDogdXNlci5pZCB9KTtcblxuICBheGlvcyh7IG1ldGhvZDogJ2RlbGV0ZScsIHVybDogYCR7dXJsfS91c2VyYCwgZGF0YSB9KS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICByZW1vdmVVc2VyTG9jYWxseShpbmRleCwgY3VycmVudFVzZXJuYW1lKTtcbiAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgaWYgKGVycm9yICYmIGVycm9yLnJlc3BvbnNlKSB7XG4gICAgICBjb25zdCB7IHN0YXR1cyB9ID0gZXJyb3IucmVzcG9uc2U7XG4gICAgICBpZiAoc3RhdHVzID09PSA0MDApIHsgLy8gQ291bGQgbm90IGZpbmQgdXNlciB0byBkZWxldGUsIHNvIGRlbGV0ZSBpdCBmcm9tIFVJIGFueXdheVxuICAgICAgICByZW1vdmVVc2VyTG9jYWxseShpbmRleCwgY3VycmVudFVzZXJuYW1lKTtcbiAgICAgIH0gZWxzZSB7IC8vIEZhaWxlZCB0byBkZWxldGVcbiAgICAgICAgc3Bpbm5lci5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICB0aGlzLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgICAgfVxuICAgIH1cbiAgfSlcbiAgICAuZmluYWxseShmdW5jdGlvbiAoKSB7XG4gICAgICAvLyBhbHdheXMgZXhlY3V0ZWRcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gaW5pdGlhbGlzZSgpOiB2b2lkIHtcbiAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbW1lbnRpbmctZW5hYmxlZCcpO1xuICBnZXRVc2Vycyh0KS50aGVuKCh1KSA9PiB7XG4gICAgaWYgKHUpIHtcbiAgICAgIHVzZXJzID0gdTtcbiAgICAgIGlmICh1c2Vycy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlbmFibGUtaW5zdHJ1Y3Rpb25zJykuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgIH1cblxuICAgICAgbWVtYmVyLnRoZW4oKHsgdXNlcm5hbWUgfSkgPT4ge1xuICAgICAgICB1LmZvckVhY2godXNlciA9PiB7XG4gICAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHJlbmRlclVzZXIodXNlcikpO1xuICAgICAgICAgIC8vIElmIHVzZXIgaXMgYWxyZWFkeSBwcmVzZW50IGluIHRoZSBsaXN0LCBkb24ndCBuZWVkIHRvIHNob3cgdGhlbSB0aGUgZW5hYmxlIGJ0blxuICAgICAgICAgIGlmICh1c2VyLnVzZXJuYW1lID09IHVzZXJuYW1lKSB7XG4gICAgICAgICAgICBoYXNHaXZlblBlcm1pc3Npb25zID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIElmIHdlJ3JlIGdvaW5nIHRvIHNob3cgdGhlIGVuYWJsZSBidXR0b24sIGRvdWJsZSBjaGVjayB0aGV5J3ZlIGF1dGhlbnRpY2F0ZWRcbiAgICAgICAgaWYgKCFoYXNHaXZlblBlcm1pc3Npb25zKSB7XG4gICAgICAgICAgc2hvd0VuYWJsZU9yQXV0aGVudGljYXRlKCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBBZGQgbGlzdGVuZXJzIHRvIHRoZSBkZWxldGUgaWNvbnNcbiAgICAgICAgY29uc3QgaXRlbXMgPSBjb250YWluZXIucXVlcnlTZWxlY3RvckFsbCgnLmRlbGV0ZS1pY29uJykgYXMgTm9kZUxpc3RPZjxIVE1MRWxlbWVudD47XG4gICAgICAgIEFycmF5LmZyb20oaXRlbXMpLmZvckVhY2goKGl0ZW0pID0+IGl0ZW0ub25jbGljayA9IG9uRGVsZXRlQ2xpY2spO1xuICAgICAgfSk7XG4gICAgfVxuICB9KTtcbn07XG5cbmluaXRpYWxpc2UoKTtcblxuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VuYWJsZS1idG4nKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VuYWJsZS1zcGlubmVyJykuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlbmFibGUtdGV4dCcpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG5cbiAgZ2V0VG9rZW4odCkudGhlbigodG9rZW4pID0+IHtcbiAgICBjb25zdCB7IGJvYXJkOiBib2FyZElkLCBtZW1iZXI6IGlkIH0gPSB0LmdldENvbnRleHQoKTtcblxuICAgIGxldCBjdXJyZW50VXNlcm5hbWU7XG4gICAgbWVtYmVyLnRoZW4oKHsgdXNlcm5hbWUgfSkgPT4ge1xuICAgICAgY3VycmVudFVzZXJuYW1lID0gdXNlcm5hbWU7XG4gICAgICBjb25zdCBkYXRhID0gbmV3IFVSTFNlYXJjaFBhcmFtcyh7XG4gICAgICAgIHRva2VuLFxuICAgICAgICBpZCxcbiAgICAgICAgYm9hcmRJZCxcbiAgICAgICAgdXNlcm5hbWUsXG4gICAgICB9KTtcblxuICAgICAgYXhpb3MoeyBtZXRob2Q6ICdwb3N0JywgdXJsOiBgJHt1cmx9L3VzZXJgLCBkYXRhIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgIGhhc0dpdmVuUGVybWlzc2lvbnMgPSB0cnVlO1xuICAgICAgICBjb25zdCBpdGVtID0geyBpZCwgdXNlcm5hbWU6IGN1cnJlbnRVc2VybmFtZSB9O1xuICAgICAgICBjb25zb2xlLmxvZygnU3VjY2Vzc2Z1bGx5IGVuYWJsZWQnLCByZXNwb25zZSk7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlbmFibGUtYnRuJykuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VuYWJsZS1zcGlubmVyJykuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VuYWJsZS10ZXh0Jykuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgICAgIHVzZXJzLnB1c2goaXRlbSk7XG4gICAgICAgIHNldFVzZXJzKHQsIHVzZXJzKTtcblxuICAgICAgICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29tbWVudGluZy1lbmFibGVkJyk7XG4gICAgICAgIGNvbnN0IG5ld1VzZXIgPSByZW5kZXJVc2VyKGl0ZW0pO1xuICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQobmV3VXNlcik7XG4gICAgICAgIGNvbnN0IGl0ZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmRlbGV0ZS1pY29uJykgYXMgTm9kZUxpc3RPZjxIVE1MRWxlbWVudD47XG4gICAgICAgIEFycmF5LmZyb20oaXRlbXMpW2l0ZW1zLmxlbmd0aCAtIDFdLm9uY2xpY2sgPSBvbkRlbGV0ZUNsaWNrO1xuXG4gICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ0ZhaWxlZCB0byBlbmFibGUnLCBlcnJvcik7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlbmFibGUtc3Bpbm5lcicpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlbmFibGUtdGV4dCcpLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgICAgfSlcbiAgICAgICAgLmZpbmFsbHkoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIC8vIERvbmVcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xufSk7XG5cbmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhdXRoZW50aWNhdGUtYnRuJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gIHQucG9wdXAoe1xuICAgIHR5cGU6ICdjb25maXJtJyxcbiAgICB0aXRsZTogJ0F1dGhvcml6ZSBDaGVja2xpc3QrJyxcbiAgICBtb3VzZUV2ZW50OiBldmVudCxcbiAgICBtZXNzYWdlOiAnVG8gZW5hYmxlIGFzc2lnbmluZyBib2FyZCBtZW1iZXJzIHRvIHRhc2tzLCB3ZSByZXF1aXJlIHlvdSB0byBhdXRob3JpemUgd2l0aCBDaGVja2xpc3QrLicsXG4gICAgY29uZmlybVRleHQ6ICdBdXRob3JpemUnLFxuICAgIG9uQ29uZmlybTogKCkgPT4ge1xuICAgICAgVHJlbGxvLmF1dGhvcml6ZSh7XG4gICAgICAgIHR5cGU6IFwicG9wdXBcIixcbiAgICAgICAgbmFtZTogXCJDaGVja2xpc3QrXCIsXG4gICAgICAgIGV4cGlyYXRpb246IFwibmV2ZXJcIixcbiAgICAgICAgc3VjY2VzczogKCkgPT4ge1xuICAgICAgICAgIHNldFRva2VuKHQsIFRyZWxsby50b2tlbigpKTtcbiAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYXV0aGVudGljYXRlLWJ0bicpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VuYWJsZS1idG4nKS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICAgICAgfSxcbiAgICAgICAgZXJyb3I6ICgpID0+IHsgfSxcbiAgICAgIH0pO1xuICAgIH0sXG4gIH0pO1xufSk7XG5cbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7Ozs7O0FBS0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/notifications.ts\n");

/***/ }),

/***/ "./src/trello-util.ts":
/*!****************************!*\
  !*** ./src/trello-util.ts ***!
  \****************************/
/*! exports provided: getItems, setItems, getIsChecklistEnabled, getToken, setToken, getUsers, setUsers */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getItems\", function() { return getItems; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setItems\", function() { return setItems; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getIsChecklistEnabled\", function() { return getIsChecklistEnabled; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getToken\", function() { return getToken; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setToken\", function() { return setToken; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getUsers\", function() { return getUsers; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setUsers\", function() { return setUsers; });\nconst getItems = (t) => t.get('card', 'shared', 'items');\nconst setItems = (t, items) => t.set('card', 'shared', 'items', items);\nconst getIsChecklistEnabled = (t) => getItems(t).then((items) => items ? true : false);\nconst getToken = (t) => t.get('member', 'private', 'authToken');\nconst setToken = (t, token) => t.set('member', 'private', 'authToken', token);\nconst getUsers = (t) => t.get('board', 'shared', 'users');\nconst setUsers = (t, users) => t.set('board', 'shared', 'users', users);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvdHJlbGxvLXV0aWwudHMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL3RyZWxsby11dGlsLnRzP2JhYjciXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IHR5cGUgQ2hlY2tsaXN0SXRlbSA9IHtcbiAgICB0ZXh0OiBzdHJpbmc7XG4gICAgaWQ/OiBzdHJpbmc7IC8vIHV1aWQgLSBvbmx5IHJlcXVpcmVkIG9uY2Ugbm90aWZpY2F0aW9uIGlzIGJlaW5nIHVzZWRcbiAgICBpc0NvbXBsZXRlPzogYm9vbGVhbjtcbiAgICB1c2VybmFtZT86IHN0cmluZztcbiAgICBmdWxsTmFtZT86IHN0cmluZztcbiAgICB1c2VySWQ/OiBzdHJpbmc7XG4gICAgYXZhdGFySGFzaD86IHN0cmluZzsvLyBsYXN0IGtub3duIGF2YXRhckhhc2ggLy9UT0RPOiBuZWVkIHRvIHJlLWdldCBpdCBpbiBjYXNlIGl0IGhhcyBjaGFuZ2VkXG4gICAgZHVlRGF0ZT86IG51bWJlcjtcbiAgICBkdWVEYXRlRnJpZW5kbHk/OiBzdHJpbmc7IC8vIERhdGUgaW4gaHVtYW4gcmVhZGJhYmxlIGZvcm1hdCBlLmcuIDEgSmFuIDEyOjAwcG1cbiAgICBub3RpZmljYXRpb25PZmZzZXQ/OiBudW1iZXI7IC8vIE1pbnV0ZXMgYmVmb3JlIHRoZSBkdWVUaW1lIHdlIHdhbnQgdG8gc2VuZCB0aGUgbm90aWZpY2F0aW9uLiAtMSBpZiBubyBub3RpZmljYXRpb24uXG59XG5cbmV4cG9ydCB0eXBlIFVzZXIgPSB7XG4gICAgaWQ6IHN0cmluZztcbiAgICB1c2VybmFtZTogc3RyaW5nO1xufVxuXG5leHBvcnQgY29uc3QgZ2V0SXRlbXMgPSAodCk6IFByb21pc2U8Q2hlY2tsaXN0SXRlbVtdPiA9PiB0LmdldCgnY2FyZCcsICdzaGFyZWQnLCAnaXRlbXMnKTtcbmV4cG9ydCBjb25zdCBzZXRJdGVtcyA9ICh0LCBpdGVtczogQ2hlY2tsaXN0SXRlbVtdKTogUHJvbWlzZTxDaGVja2xpc3RJdGVtW10+ID0+IHQuc2V0KCdjYXJkJywgJ3NoYXJlZCcsICdpdGVtcycsIGl0ZW1zKTtcbmV4cG9ydCBjb25zdCBnZXRJc0NoZWNrbGlzdEVuYWJsZWQgPSAodCk6IFByb21pc2U8Ym9vbGVhbj4gPT4gZ2V0SXRlbXModCkudGhlbigoaXRlbXM6IENoZWNrbGlzdEl0ZW1bXSkgPT4gaXRlbXMgPyB0cnVlIDogZmFsc2UpO1xuZXhwb3J0IGNvbnN0IGdldFRva2VuID0gKHQpOiBQcm9taXNlPHN0cmluZz4gPT4gdC5nZXQoJ21lbWJlcicsICdwcml2YXRlJywgJ2F1dGhUb2tlbicpO1xuZXhwb3J0IGNvbnN0IHNldFRva2VuID0gKHQsIHRva2VuKTogUHJvbWlzZTx2b2lkPiA9PiB0LnNldCgnbWVtYmVyJywgJ3ByaXZhdGUnLCAnYXV0aFRva2VuJywgdG9rZW4pO1xuZXhwb3J0IGNvbnN0IGdldFVzZXJzID0gKHQpOiBQcm9taXNlPFVzZXJbXT4gPT4gdC5nZXQoJ2JvYXJkJywgJ3NoYXJlZCcsICd1c2VycycpO1xuZXhwb3J0IGNvbnN0IHNldFVzZXJzID0gKHQsIHVzZXJzOiBVc2VyW10pOiBQcm9taXNlPHZvaWQ+ID0+IHQuc2V0KCdib2FyZCcsICdzaGFyZWQnLCAndXNlcnMnLCB1c2Vycyk7Il0sIm1hcHBpbmdzIjoiQUFrQkE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/trello-util.ts\n");

/***/ })

/******/ });